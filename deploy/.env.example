# Environment Configuration for Splunk Event Flow Graph
# Copy this file to .env and customize for your environment
# NEVER commit .env file with real credentials to version control

# =============================================================================
# Image Configuration
# =============================================================================
# Docker image tag for api and frontend
TAG=latest

# =============================================================================
# Database Configuration
# =============================================================================
POSTGRES_DB=flow
POSTGRES_USER=flow
# WARNING: Change this password in production!
POSTGRES_PASSWORD=changeme_in_production

# Full database connection string
# For PostgreSQL (default):
DB_URL=postgresql+psycopg://flow:flowpass@db:5432/flow
# For SQLite development mode (lightweight, single-container):
# DB_URL=sqlite:////data/flow.db

# =============================================================================
# API Configuration
# =============================================================================
# Base path for file storage (uploads, work files, graphs, exports)
STORAGE_ROOT=/data

# Number of gunicorn worker processes (adjust based on CPU cores)
# Formula: (2 x CPU cores) + 1
WORKERS=4

# Logging level: debug, info, warning, error
LOG_LEVEL=info

# CORS allowed origins (comma-separated)
# Include both development and production frontend URLs
ALLOW_ORIGINS=http://localhost:5173,http://localhost:8080

# =============================================================================
# Frontend Configuration
# =============================================================================
# Backend API endpoint (used during build or runtime config injection)
API_BASE_URL=http://localhost:8000/api/v1

# =============================================================================
# Optional: Redis Configuration (Future v2.1+)
# =============================================================================
# Uncomment when implementing background job queue
# REDIS_URL=redis://redis:6379/0

# =============================================================================
# Security Configuration (Future Implementation)
# =============================================================================
# JWT authentication (uncomment when implementing auth)
# WARNING: Generate a secure random key for production!
# Use: openssl rand -hex 32
# JWT_SECRET_KEY=generate_secure_random_key_here
# JWT_ALGORITHM=HS256

# =============================================================================
# Production Deployment Notes
# =============================================================================
# 1. Use Docker secrets or external secret management (e.g., HashiCorp Vault, AWS Secrets Manager)
#    instead of plain text environment variables for sensitive values
# 2. Enable TLS/SSL termination at load balancer or reverse proxy
# 3. Restrict CORS origins to production domain only
# 4. Use strong, randomly generated passwords for database
# 5. Rotate JWT secret keys periodically
# 6. Set LOG_LEVEL=warning or error in production
# 7. Monitor container resource usage and adjust WORKERS accordingly
